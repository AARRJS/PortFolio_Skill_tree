<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>M S Rishikesh | Game Developer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'void': '#020202',
                        'accent-cyan': '#00e5ff',
                        'accent-purple': '#d500f9',
                        'accent-blue': '#2979ff',
                        'metal-white': '#e5e5e5',
                        'metal-dark': '#171717',
                        'locked-gray': '#262626',
                    },
                    fontFamily: {
                        'rpg': ['Cinzel', 'serif'],
                        'hud': ['Rajdhani', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #020202;
            color: white;
            font-family: 'Rajdhani', sans-serif;
            user-select: none;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        body::-webkit-scrollbar { display: none; }

        /* --- Loading Screen --- */
        #loader {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease-out;
        }
        
        .core-pulse {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 229, 255, 0.2) 0%, rgba(213, 0, 249, 0.1) 50%, rgba(0,0,0,0) 70%);
            animation: pulse-core 2s infinite ease-in-out;
            position: absolute;
            z-index: 0;
        }

        @keyframes pulse-core {
            0% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.5); opacity: 1; }
            100% { transform: scale(1); opacity: 0.5; }
        }

        .metallic-text {
            background: linear-gradient(180deg, #fff 0%, #e0f7fa 50%, #b2ebf2 51%, #00e5ff 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 229, 255, 0.3);
            letter-spacing: 2px;
        }

        /* --- Infinite Canvas --- */
        #world-container {
            position: absolute;
            inset: 0;
            cursor: grab;
            opacity: 0;
            transition: opacity 1s ease-in;
            z-index: 10;
            touch-action: none; 
        }
        #world-container:active { cursor: grabbing; }

        #webgl-background {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        #canvas-ui {
            position: absolute;
            width: 5000px;
            height: 5000px;
            will-change: transform; 
            /* Force GPU acceleration */
            transform: translate3d(0,0,0);
            backface-visibility: hidden;
        }

        /* --- STABLE GLASS NODE STYLES --- */
        .node {
            position: absolute;
            width: 90px;
            height: 90px;
            aspect-ratio: 1; 
            
            /* Optimized Glass Effect */
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.01));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            border-left: 1px solid rgba(255, 255, 255, 0.2);
            
            border-radius: 50%; 
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            cursor: pointer;
            
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
            
            /* Only animate transforms for 60fps smoothness */
            will-change: transform;
            transition: border-color 0.2s ease-out, box-shadow 0.2s ease-out, background-color 0.2s ease-out;
        }

        /* --- INFO PANEL FIXES --- */
        .info-panel {
            position: absolute;
            top: 50%;
            left: 115%;
            width: 320px;
            background: rgba(5, 5, 12, 0.95); 
            backdrop-filter: blur(15px); /* Slightly reduced blur for perf */
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-left: 2px solid #00e5ff;
            padding: 0;
            border-radius: 4px;
            opacity: 0;
            transform: translateY(-50%) translateX(-20px) scale(0.95);
            transform-origin: left center;
            pointer-events: none;
            transition: opacity 0.2s, transform 0.2s;
            z-index: 100; 
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.9);
            visibility: hidden; 
            /* GPU optimize */
            will-change: transform, opacity;
        }

        .node.active .info-panel {
            opacity: 1;
            transform: translateY(-50%) translateX(0) scale(1);
            pointer-events: auto;
            visibility: visible;
        }

        @keyframes beam-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes locked-glitch {
            0%, 90% { transform: translate(0,0) skew(0deg); opacity: 0.2; border-color: #333; }
            91% { transform: translate(-2px, 1px) skew(-5deg); opacity: 0.5; border-color: #00e5ff; }
            92% { transform: translate(2px, -2px) skew(5deg); opacity: 0.2; }
            93% { transform: translate(-1px, 2px) skew(-2deg); opacity: 0.4; border-color: #d500f9; }
            94% { transform: translate(0,0) skew(0deg); opacity: 0.2; }
            96% { transform: translate(1px, -1px) skew(2deg); opacity: 0.3; }
            100% { transform: translate(0,0) skew(0deg); opacity: 0.2; border-color: #333; }
        }

        /* Hover States */
        .node:not(.locked):hover {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px) saturate(1.5);
            --pulse-color: #00e5ff; 
            border-color: transparent; 
            z-index: 50; 
            animation: none;
        }

        /* Active State Highlighting */
        .node.active {
            border-color: #00e5ff;
            background: rgba(0, 229, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 229, 255, 0.3);
            z-index: 90; 
        }

        #node-code:hover { --pulse-color: #d500f9; }
        #node-engine:hover { --pulse-color: #2979ff; }
        #node-projects:hover { --pulse-color: #00e5ff; }

        /* Sharp Beam Ring */
        .node:not(.locked):hover::after {
            content: ''; position: absolute; inset: -2px; 
            background: conic-gradient(from 0deg, transparent 40%, var(--pulse-color)); 
            border-radius: 50%; z-index: -1; 
            animation: beam-spin 1s linear infinite;
            -webkit-mask: radial-gradient(circle closest-side, transparent 98%, black 100%); 
            mask: radial-gradient(circle closest-side, transparent 98%, black 100%); 
        }

        /* Glow Beam Ring */
        .node:not(.locked):hover::before {
            content: ''; position: absolute; inset: -2px; 
            background: conic-gradient(from 0deg, transparent 40%, var(--pulse-color)); 
            border-radius: 50%; z-index: -2; 
            filter: blur(12px); animation: beam-spin 1s linear infinite;
            -webkit-mask: radial-gradient(circle closest-side, transparent 85%, black 100%);
            mask: radial-gradient(circle closest-side, transparent 85%, black 100%);
        }

        .node.root { width: 130px; height: 130px; aspect-ratio: 1; border-color: rgba(0, 229, 255, 0.4); border-top-color: rgba(0, 229, 255, 0.8); box-shadow: 0 0 30px rgba(0, 229, 255, 0.2); z-index: 12; border-radius: 50%; }
        .node.major { width: 100px; height: 100px; aspect-ratio: 1; border-radius: 50%; }
        .node.locked { filter: grayscale(100%) contrast(1.5) blur(0.5px); background: rgba(0, 0, 0, 0.8); border-style: dashed; cursor: not-allowed; pointer-events: none; animation: locked-glitch 4s infinite steps(10); }
        .node.locked .node-icon { opacity: 0.5; color: #444; }
        
        .node-content-wrapper { transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; }
        .node:hover .node-content-wrapper { transform: scale(1.15); }

        .node-icon { font-size: 28px; color: rgba(255, 255, 255, 0.8); transition: all 0.3s; filter: drop-shadow(0 0 2px rgba(0,0,0,0.8)); }
        .root .node-icon { font-size: 48px; color: #00e5ff; text-shadow: 0 0 15px rgba(0, 229, 255, 0.6); }
        .node:not(.locked):hover .node-icon { color: white; filter: drop-shadow(0 0 8px white); }

        .node-label { position: absolute; top: 115%; width: 160px; text-align: center; font-family: 'Cinzel', serif; font-size: 11px; color: rgba(255,255,255,0.6); text-transform: uppercase; letter-spacing: 2px; pointer-events: none; transition: color 0.3s; }
        .node:hover .node-label { color: #00e5ff; text-shadow: 0 0 10px rgba(0, 229, 255, 0.4); }

        /* --- Connections --- */
        #connections { position: absolute; inset: 0; pointer-events: none; z-index: 1; }
        .connection-path { fill: none; stroke: #888; stroke-width: 1.5; stroke-dasharray: 4 8; opacity: 0.6; transition: stroke 0.3s; filter: drop-shadow(0 0 3px rgba(0, 229, 255, 0.3)); }
        
        .data-packet { fill: #fff; filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.9)); pointer-events: none; }
        .data-packet-rgb { pointer-events: none; mix-blend-mode: screen; opacity: 0; }
        .dp-r { fill: #d500f9; } .dp-g { fill: #00e5ff; } .dp-b { fill: #2979ff; }
        
        .panel-header { background: linear-gradient(90deg, rgba(0, 229, 255, 0.1) 0%, transparent 100%); padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; justify-content: space-between; align-items: center; }
        .panel-body { padding: 16px; }

        /* HUD */
        .hud-corner { position: fixed; padding: 20px; pointer-events: none; z-index: 50; }
        .top-left { top: 0; left: 0; }
        .bottom-right { bottom: 0; right: 0; display: flex; gap: 10px; pointer-events: auto; }
        .btn-rpg { background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); border: 1px solid rgba(255,255,255,0.1); color: #aaa; padding: 10px 20px; font-family: 'Cinzel'; cursor: pointer; transition: all 0.2s; text-transform: uppercase; font-size: 12px; border-radius: 2px; }
        .btn-rpg:hover { border-color: #00e5ff; color: #fff; background: rgba(0, 229, 255, 0.1); box-shadow: 0 0 15px rgba(0, 229, 255, 0.2); }

        @media (max-width: 1024px) {
            .hud-corner { padding: 15px; }
            .info-panel { width: 280px; }
            .node { width: 85px; height: 85px; }
            .node.root { width: 120px; height: 120px; }
        }
    </style>
</head>
<body>

    <svg style="position: absolute; width:0; height:0;"><defs><linearGradient id="gradient-stream" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#00e5ff;stop-opacity:0" /><stop offset="50%" style="stop-color:#00e5ff;stop-opacity:1" /><stop offset="100%" style="stop-color:#00e5ff;stop-opacity:0" /></linearGradient></defs></svg>

    <div id="loader">
        <div class="relative flex items-center justify-center w-64 h-64">
            <div class="core-pulse"></div>
            <svg class="transform -rotate-90 w-full h-full relative z-10"><circle cx="128" cy="128" r="100" stroke="#171717" stroke-width="6" fill="none" /><circle id="loading-circle" cx="128" cy="128" r="100" stroke="#00e5ff" stroke-width="4" fill="none" stroke-dasharray="628" stroke-dashoffset="628" stroke-linecap="round" /></svg>
            <div class="absolute inset-0 flex flex-col items-center justify-center z-20"><span id="loading-text" class="text-5xl font-bold font-hud metallic-text">0%</span><span class="text-xs text-cyan-500 uppercase tracking-widest mt-2">Loading Assets</span></div>
        </div>
    </div>

    <div class="hud-corner top-left"><div class="text-xs text-neutral-500 font-hud uppercase tracking-wider mb-1">Portfolio: M S Rishikesh</div><div class="text-xl text-white font-rpg"><i class="fas fa-cube text-accent-cyan mr-2"></i>Game Developer</div></div>
    <div class="hud-corner bottom-right"><button class="btn-rpg" onclick="resetCamera()">Recenter</button><button class="btn-rpg" onclick="toggleMusic()"><i class="fas fa-volume-mute"></i></button></div>

    <div id="webgl-background"></div>

    <div id="world-container">
        <div id="canvas-ui">
            <svg id="connections" width="5000" height="5000" xmlns="http://www.w3.org/2000/svg"></svg>

            <!-- CORE -->
            <div class="node root" id="node-core" data-x="2440" data-y="2440"><div class="node-content-wrapper"><i class="fas fa-user-circle node-icon"></i></div><div class="node-label">Identity</div>
                <div class="info-panel"><div class="panel-header"><span class="text-accent-cyan font-rpg">Profile</span><span class="text-xs text-neutral-500">Lvl. 22</span></div><div class="panel-body"><div class="flex gap-4 mb-4"><div class="w-16 h-16 bg-neutral-900 border border-neutral-700 rounded flex items-center justify-center"><i class="fas fa-user-astronaut text-2xl text-neutral-500"></i></div><div><h3 class="text-lg font-bold text-white">M S Rishikesh</h3><p class="text-xs text-accent-cyan">Game Developer</p></div></div><p class="text-xs text-neutral-300 mb-3">Keen Unreal Engine developer skilled in C++, Python, and 3D Art.</p><div class="mt-4 pt-4 border-t border-neutral-800 flex justify-between"><a href="mailto:aarrjs007@gmail.com" class="text-xs text-white hover:text-accent-cyan">Email</a><a href="https://linkedin.com/in/aarrjs" target="_blank" class="text-xs text-white hover:text-accent-cyan">LinkedIn</a></div></div></div>
            </div>

            <!-- SKILLS -->
            <div class="node major" id="node-code" data-x="2100" data-y="2200"><div class="node-content-wrapper"><i class="fas fa-code node-icon"></i></div><div class="node-label text-white">Skills</div></div>
            <div class="node" id="node-langs" data-x="1900" data-y="2100"><div class="node-content-wrapper"><i class="fas fa-language node-icon"></i></div><div class="node-label">Languages</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">Polyglot</span></div><div class="panel-body text-sm text-neutral-300"><p>Proficiency in C, C++, C#, Python, SQL.</p></div></div></div>
            <div class="node" id="node-lang-c" data-x="1700" data-y="2000"><div class="node-content-wrapper"><i class="fas fa-file-code node-icon"></i></div><div class="node-label">C</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">C</span></div><div class="panel-body text-sm text-neutral-300">Foundational knowledge used for understanding low-level memory management and system architecture.</div></div></div>
            <div class="node" id="node-lang-cpp" data-x="1700" data-y="2100"><div class="node-content-wrapper"><i class="fab fa-cuttlefish node-icon"></i></div><div class="node-label">C++</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">C++</span></div><div class="panel-body text-sm text-neutral-300">Primary language for Unreal Engine. Experienced in pointers, memory management, and OOP for game systems.</div></div></div>
            <div class="node" id="node-lang-cs" data-x="1700" data-y="2200"><div class="node-content-wrapper"><i class="fab fa-microsoft node-icon"></i></div><div class="node-label">C#</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">C#</span></div><div class="panel-body text-sm text-neutral-300">Scripting language for Unity. Used for game logic, AI behaviors, and UI interactions.</div></div></div>
            <div class="node" id="node-lang-py" data-x="1800" data-y="1900"><div class="node-content-wrapper"><i class="fab fa-python node-icon"></i></div><div class="node-label">Python</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">Python</span></div><div class="panel-body text-sm text-neutral-300">Used for automation tools, simple scripts, and exploring AI concepts.</div></div></div>
            <div class="node" id="node-lang-sql" data-x="1800" data-y="2300"><div class="node-content-wrapper"><i class="fas fa-database node-icon"></i></div><div class="node-label">SQL</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">SQL</span></div><div class="panel-body text-sm text-neutral-300">Database management skills for backend integration and player data storage.</div></div></div>
            <div class="node" id="node-patterns" data-x="1900" data-y="2350"><div class="node-content-wrapper"><i class="fas fa-layer-group node-icon"></i></div><div class="node-label">Design</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">Capabilities</span></div><div class="panel-body text-sm text-neutral-300"><p class="mb-2"><strong>Focus:</strong> Level Design, Game Mechanics, Prototyping.</p></div></div></div>

            <!-- SOFTWARES -->
            <div class="node major" id="node-softwares" data-x="3000" data-y="2400"><div class="node-content-wrapper"><i class="fas fa-laptop-code node-icon"></i></div><div class="node-label text-accent-cyan">Softwares</div></div>
            <div class="node" id="node-game-engines" data-x="3300" data-y="2400"><div class="node-content-wrapper"><i class="fas fa-gamepad node-icon"></i></div><div class="node-label text-white">Engines</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">Core Engines</span></div><div class="panel-body text-sm text-neutral-300"><p>Proficient in industry-standard engines for 2D, 3D, and VR development.</p></div></div></div>
            <div class="node" id="node-unity" data-x="3500" data-y="2200"><div class="node-content-wrapper"><i class="fab fa-unity node-icon"></i></div><div class="node-label">Unity</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">Unity Engine</span></div><div class="panel-body text-sm text-neutral-300">2D/3D Dev, AI Logic, C# Scripting. Used for 'The Highscore' and 'First Instinct'.</div></div></div>
            <div class="node" id="node-godot" data-x="3500" data-y="2600"><div class="node-content-wrapper"><i class="fas fa-cube node-icon"></i></div><div class="node-label">Godot</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">Godot Engine</span></div><div class="panel-body text-sm text-neutral-300">Experience with GDScript and physics-based mechanics (The Ball Game).</div></div></div>
            <div class="node" id="node-unreal" data-x="3650" data-y="2400"><div class="node-content-wrapper"><i class="fas fa-vr-cardboard node-icon"></i></div><div class="node-label">Unreal 5</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">Unreal 5</span></div><div class="panel-body text-sm text-neutral-300">Blueprint, AI Logic, Metahumans. Main engine for 'Granny Quest'.</div></div></div>
            <div class="node" id="node-blender" data-x="2900" data-y="2700"><div class="node-content-wrapper"><i class="fas fa-cube node-icon"></i></div><div class="node-label">Blender</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">3D Modeling</span></div><div class="panel-body text-sm text-neutral-300">3D Modeling, texturing, and asset creation for game environments.</div></div></div>
            <div class="node" id="node-git" data-x="2900" data-y="2100"><div class="node-content-wrapper"><i class="fab fa-git-alt node-icon"></i></div><div class="node-label">Git</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">Workflow</span></div><div class="panel-body text-sm text-neutral-300"><ul class="list-disc pl-4 space-y-1"><li><strong>Git:</strong> Version Control for solo and group projects.</li><li><strong>Itch.io:</strong> Publishing & Distribution.</li></ul></div></div></div>

            <!-- PROJECTS -->
            <div class="node major" id="node-projects" data-x="2500" data-y="2900"><div class="node-content-wrapper"><i class="fas fa-gamepad node-icon"></i></div><div class="node-label text-white">Projects</div></div>
            <div class="node" id="node-p1" data-x="2200" data-y="3100"><div class="node-content-wrapper"><i class="fas fa-ghost node-icon"></i></div><div class="node-label">Granny Quest</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">Granny Quest</span></div><div class="panel-body"><div class="h-24 bg-neutral-900 mb-2 rounded flex items-center justify-center border border-neutral-800"><i class="fas fa-dungeon text-4xl text-neutral-700"></i></div><p class="text-xs text-neutral-300 mb-2"><strong>Unreal Engine 5 (Solo)</strong></p><p class="text-xs text-neutral-400 mb-3">3D Adventure. Designed Enemy AI, Puzzles, Lighting & SFX. Published May 2025.</p><a href="https://AARRJS.itch.io/granny-quest" target="_blank" class="w-full btn-rpg text-xs text-center block">View on Itch.io</a></div></div></div>
            <div class="node" id="node-p2" data-x="2800" data-y="3100"><div class="node-content-wrapper"><i class="fas fa-trophy node-icon"></i></div><div class="node-label">Highscore</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">The Highscore</span></div><div class="panel-body"><p class="text-xs text-neutral-300 mb-2"><strong>Unity 3D (Solo)</strong></p><p class="text-xs text-neutral-400 mb-3">Single-player shooter. Implemented flight, aim/sprint mechanics, and complex AI (Chase, Seek, Shoot).</p></div></div></div>
            <div class="node" id="node-p3" data-x="2500" data-y="3200"><div class="node-content-wrapper"><i class="fas fa-running node-icon"></i></div><div class="node-label">First Instinct</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">First Instinct</span></div><div class="panel-body"><p class="text-xs text-neutral-300 mb-2"><strong>Unity 2D (Solo)</strong></p><p class="text-xs text-neutral-400">2D Platformer with secret levels, engaging SFX, and core mechanics.</p></div></div></div>
            <div class="node" id="node-p4" data-x="2000" data-y="3000"><div class="node-content-wrapper"><i class="fas fa-microchip node-icon"></i></div><div class="node-label">IoT</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">IoT & Hardware</span></div><div class="panel-body text-sm text-neutral-300"><ul class="list-disc pl-4 space-y-1 text-xs"><li><strong>Intrusion System:</strong> Raspberry Pi, 360 sensor, Remote API.</li><li><strong>RFID Access:</strong> ESP32, Encryption, Custom room settings.</li></ul></div></div></div>
            <div class="node" id="node-p5" data-x="3000" data-y="3000"><div class="node-content-wrapper"><i class="fas fa-bowling-ball node-icon"></i></div><div class="node-label">Ball Game</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-accent-cyan">The Ball Game</span></div><div class="panel-body"><p class="text-xs text-neutral-300 mb-2"><strong>Godot 3D (Group)</strong></p><p class="text-xs text-neutral-400">Physics-based puzzle game with increasing difficulty levels.</p></div></div></div>

            <!-- EXP & EDU -->
            <div class="node" id="node-exp" data-x="1900" data-y="1600"><div class="node-content-wrapper"><i class="fas fa-briefcase node-icon"></i></div><div class="node-label">Experience</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">Internship</span></div><div class="panel-body text-sm text-neutral-300"><p class="font-bold text-accent-cyan mb-1">Malger Entertainment LLP</p><ul class="list-disc pl-4 space-y-1 text-xs"><li>Created 3rd person character using Metahumans.</li><li>Implemented swimming animations.</li><li>Handled retargeting for player controls.</li></ul></div></div></div>
            <div class="node" id="node-certs" data-x="2200" data-y="1600"><div class="node-content-wrapper"><i class="fas fa-certificate node-icon"></i></div><div class="node-label">Certs</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">Achievements</span></div><div class="panel-body text-sm text-neutral-300"><ul class="list-disc pl-4 space-y-1 text-xs"><li>Intro to C++ & Unreal</li><li>ASAP Course Completion</li><li>Malger Internship Cert</li><li>CDP (Birds Program)</li></ul></div></div></div>
            <div class="node major" id="node-edu" data-x="2900" data-y="1800"><div class="node-content-wrapper"><i class="fas fa-graduation-cap node-icon"></i></div><div class="node-label text-white">Education</div></div>
            <div class="node" id="node-mca" data-x="3100" data-y="1600"><div class="node-content-wrapper"><i class="fas fa-user-graduate node-icon"></i></div><div class="node-label">MCA</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">Masters</span></div><div class="panel-body text-sm text-neutral-300"><p class="font-bold">Lovely Professional University</p><p class="text-xs text-neutral-500">July 2024 - May 2027</p><p class="text-xs mt-2">Master of Computer Application (Online)</p></div></div></div>
            <div class="node" id="node-bca" data-x="3200" data-y="1800"><div class="node-content-wrapper"><i class="fas fa-university node-icon"></i></div><div class="node-label">BCA</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">Bachelors</span></div><div class="panel-body text-sm text-neutral-300"><p class="font-bold">Lovely Professional University</p><p class="text-xs text-neutral-500">Aug 2021 - May 2024</p><p class="text-xs mt-2">Bachelor of Computer Application</p></div></div></div>
            <div class="node" id="node-school" data-x="3000" data-y="1500"><div class="node-content-wrapper"><i class="fas fa-school node-icon"></i></div><div class="node-label">School</div><div class="info-panel"><div class="panel-header"><span class="font-rpg text-white">Kendriya Vidyalaya</span></div><div class="panel-body text-sm text-neutral-300"><ul class="list-disc pl-4 space-y-1"><li><strong>12th:</strong> 2021</li><li><strong>10th:</strong> 2019</li></ul></div></div></div>

        </div>
    </div>

    <!-- OGL SHADER SCRIPT -->
    <script type="module">
        import { Renderer, Program, Mesh, Triangle, Vec3 } from 'https://unpkg.com/ogl';
        const container = document.getElementById('webgl-background');
        const vert = `precision highp float; attribute vec2 position; attribute vec2 uv; varying vec2 vUv; void main() { vUv = uv; gl_Position = vec4(position, 0.0, 1.0); }`;
        const frag = `precision highp float; uniform float iTime; uniform vec3 iResolution; varying vec2 vUv;
            const vec3 baseColor1 = vec3(0.0, 0.898, 1.0); const vec3 baseColor2 = vec3(0.835, 0.0, 0.976); const vec3 baseColor3 = vec3(0.0, 0.0, 0.05);
            vec3 rgb2yiq(vec3 c) { float y = dot(c, vec3(0.299, 0.587, 0.114)); float i = dot(c, vec3(0.596, -0.274, -0.322)); float q = dot(c, vec3(0.211, -0.523, 0.312)); return vec3(y, i, q); }
            vec3 yiq2rgb(vec3 c) { float r = c.x + 0.956 * c.y + 0.621 * c.z; float g = c.x - 0.272 * c.y - 0.647 * c.z; float b = c.x - 1.106 * c.y + 1.703 * c.z; return vec3(r, g, b); }
            vec3 adjustHue(vec3 color, float hueDeg) { float hueRad = hueDeg * 3.14159265 / 180.0; vec3 yiq = rgb2yiq(color); float cosA = cos(hueRad); float sinA = sin(hueRad); float i = yiq.y * cosA - yiq.z * sinA; float q = yiq.y * sinA + yiq.z * cosA; yiq.y = i; yiq.z = q; return yiq2rgb(yiq); }
            vec3 hash33(vec3 p3) { p3 = fract(p3 * vec3(0.1031, 0.11369, 0.13787)); p3 += dot(p3, p3.yxz + 19.19); return -1.0 + 2.0 * fract(vec3(p3.x + p3.y, p3.x + p3.z, p3.y + p3.z) * p3.zyx); }
            float snoise3(vec3 p) { const float K1 = 0.333333333; const float K2 = 0.166666667; vec3 i = floor(p + (p.x + p.y + p.z) * K1); vec3 d0 = p - (i - (i.x + i.y + i.z) * K2); vec3 e = step(vec3(0.0), d0 - d0.yzx); vec3 i1 = e * (1.0 - e.zxy); vec3 i2 = 1.0 - e.zxy * (1.0 - e); vec3 d1 = d0 - (i1 - K2); vec3 d2 = d0 - (i2 - K1); vec3 d3 = d0 - 0.5; vec4 h = max(0.6 - vec4(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), 0.0); vec4 n = h * h * h * h * vec4(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.0))); return dot(vec4(31.316), n); }
            vec4 extractAlpha(vec3 colorIn) { float a = max(max(colorIn.r, colorIn.g), colorIn.b); return vec4(colorIn.rgb / (a + 1e-5), a); }
            vec4 draw(vec2 uv) { vec3 col = mix(baseColor3, baseColor2, snoise3(vec3(uv * 0.8, iTime * 0.3)) * 0.5 + 0.5); col = mix(col, baseColor1, smoothstep(0.6, 0.9, snoise3(vec3(uv * 0.8, iTime * 0.3)) * 0.5 + 0.5) * 0.4); col *= smoothstep(1.5, 0.0, length(uv)); return vec4(col, 1.0); }
            void main() { vec2 center = iResolution.xy * 0.5; float size = min(iResolution.x, iResolution.y); vec2 uv = (gl_FragCoord.xy - center) / size * 2.0; gl_FragColor = draw(uv); }`;
        const renderer = new Renderer({ alpha: true, premultipliedAlpha: false }); const gl = renderer.gl; gl.clearColor(0, 0, 0, 1); container.appendChild(gl.canvas);
        const geometry = new Triangle(gl); const program = new Program(gl, { vertex: vert, fragment: frag, uniforms: { iTime: { value: 0 }, iResolution: { value: new Vec3(0, 0, 0) }, hue: { value: 0 } } });
        const mesh = new Mesh(gl, { geometry, program });
        function resize() { const dpr = Math.min(window.devicePixelRatio, 1.5); const w = window.innerWidth; const h = window.innerHeight; renderer.setSize(w * dpr, h * dpr); gl.canvas.style.width = w + 'px'; gl.canvas.style.height = h + 'px'; program.uniforms.iResolution.value.set(w * dpr, h * dpr, w / h); }
        window.addEventListener('resize', resize); resize();
        requestAnimationFrame(update); function update(t) { requestAnimationFrame(update); program.uniforms.iTime.value = t * 0.001; renderer.render({ scene: mesh }); }
    </script>

    <!-- MAIN APP LOGIC -->
    <script>
        const CENTER_X = 2500, CENTER_Y = 2500;
        const state = { nodes: [], connections: [], camera: { x: 0, y: 0, vx: 0, vy: 0, isDragging: false, lastMouseX: 0, lastMouseY: 0 }, time: 0, packets: [], lastPacketSpawn: 0 };

        function initNodes() {
            const nodes = Array.from(document.querySelectorAll('.node'));
            // 1. Initial Position (Restore original grid)
            nodes.forEach(el => {
                let x = parseFloat(el.getAttribute('data-x')), y = parseFloat(el.getAttribute('data-y'));
                if (el.id !== 'node-core') {
                    const dx = x - 2500, dy = y - 2500;
                    x = 2500 + dx * 1.6 + (Math.random()-0.5)*120; // Spread increased to 1.6
                    y = 2500 + dy * 1.6 + (Math.random()-0.5)*120;
                }
                el.style.left = x + 'px'; el.style.top = y + 'px';
                state.nodes.push({ id: el.id, el: el, baseX: x, baseY: y, x: x, y: y, phase: Math.random()*Math.PI*2, speed: 0.001+Math.random()*0.002, amplitude: 15+Math.random()*20, width: el.offsetWidth, height: el.offsetHeight });
            });
            
            // Run physics loop to space them out without overlap
            // We reset to original coordinates first to ensure a known starting state
            for(let i=0; i<150; i++) resolveCollisions();
        }

        function resolveCollisions() {
            const minDist = 220; // Ensure nodes never touch (90px + 90px buffer)
            for (let i=0; i<state.nodes.length; i++) {
                for (let j=i+1; j<state.nodes.length; j++) {
                    const n1 = state.nodes[i], n2 = state.nodes[j];
                    if (n1.id === 'node-core' || n2.id === 'node-core') continue; 
                    
                    const dx = n2.baseX - n1.baseX;
                    const dy = n2.baseY - n1.baseY;
                    const dist = Math.sqrt(dx*dx + dy*dy);
                    
                    if (dist < minDist && dist > 0) {
                        const overlap = minDist - dist;
                        const nx = dx / dist;
                        const ny = dy / dist;
                        
                        const moveX = nx * overlap * 0.5;
                        const moveY = ny * overlap * 0.5;
                        
                        n1.baseX -= moveX; n1.baseY -= moveY;
                        n2.baseX += moveX; n2.baseY += moveY;
                    }
                }
            }
        }

        function createConnection(startId, endId) {
            const container = document.getElementById('connections');
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('class', 'connection-path');
            container.appendChild(path);
            state.connections.push({ startId, endId, pathEl: path, glitches: [] });
        }

        function initMap() {
            initNodes();
            createConnection('node-core', 'node-code'); createConnection('node-code', 'node-patterns'); createConnection('node-code', 'node-langs');
            createConnection('node-langs', 'node-lang-c'); createConnection('node-langs', 'node-lang-cpp'); createConnection('node-langs', 'node-lang-cs'); createConnection('node-langs', 'node-lang-py'); createConnection('node-langs', 'node-lang-sql');
            createConnection('node-core', 'node-softwares'); createConnection('node-softwares', 'node-game-engines');
            createConnection('node-game-engines', 'node-unity'); createConnection('node-game-engines', 'node-unreal'); createConnection('node-game-engines', 'node-godot');
            createConnection('node-softwares', 'node-blender'); createConnection('node-softwares', 'node-git');
            createConnection('node-core', 'node-projects'); createConnection('node-projects', 'node-p1'); createConnection('node-projects', 'node-p2'); createConnection('node-projects', 'node-p3'); createConnection('node-projects', 'node-p4'); createConnection('node-projects', 'node-p5');
            createConnection('node-core', 'node-exp'); createConnection('node-core', 'node-edu'); createConnection('node-edu', 'node-mca'); createConnection('node-edu', 'node-bca'); createConnection('node-edu', 'node-school'); createConnection('node-core', 'node-certs');
            requestAnimationFrame(gameLoop);
        }

        function spawnPacketsFromNode(nodeId) {
            const container = document.getElementById('connections');
            state.connections.forEach((conn, index) => {
                if (conn.startId === nodeId) {
                    const createDot = (cls) => { const d=document.createElementNS('http://www.w3.org/2000/svg','circle'); d.setAttribute('class',cls); if(cls.includes('data-packet-rgb')) d.setAttribute('r','2.5'); return d; };
                    const dR=createDot('data-packet-rgb dp-r'), dG=createDot('data-packet-rgb dp-g'), dB=createDot('data-packet-rgb dp-b'), dM=createDot('data-packet');
                    dM.setAttribute('r','3');
                    container.append(dR, dG, dB, dM);
                    state.packets.push({ connectionIndex: index, t: 0, el: dM, els: { r: dR, g: dG, b: dB } });
                }
            });
        }

        function updateGlitches(timestamp) {
            state.connections.forEach(conn => {
                if (Math.random() < 0.05) conn.glitches.push({ pos: 0.2 + Math.random()*0.6, startTime: timestamp, duration: 150 + Math.random()*250, width: 0.15 + Math.random()*0.1, intensity: 8 + Math.random()*12 });
                for (let i=conn.glitches.length-1; i>=0; i--) if (timestamp - conn.glitches[i].startTime > conn.glitches[i].duration) conn.glitches.splice(i,1);
            });
        }

        function getPointOnWave(p1, p2, t, time) {
            const lx = p1.x + (p2.x - p1.x) * t, ly = p1.y + (p2.y - p1.y) * t;
            const dx = p2.x - p1.x, dy = p2.y - p1.y, len = Math.sqrt(dx*dx + dy*dy);
            if (len === 0) return { x: lx, y: ly, nx: 0, ny: 0 };
            const nx = -dy / len, ny = dx / len;
            let wave = Math.sin(t * 10 + time * 0.002) * 15;
            wave += Math.sin(t * 50 + time * 0.02) * 2.5; 
            wave *= Math.sin(t * Math.PI);
            return { x: lx + nx * wave, y: ly + ny * wave, nx, ny };
        }

        function renderLines() {
            state.connections.forEach(conn => {
                const n1 = state.nodes.find(n => n.id === conn.startId), n2 = state.nodes.find(n => n.id === conn.endId);
                if (n1 && n2) {
                    const x1 = n1.currentX + n1.width/2, y1 = n1.currentY + n1.height/2;
                    const x2 = n2.currentX + n2.width/2, y2 = n2.currentY + n2.height/2;
                    let d = `M ${x1} ${y1}`;
                    const segments = 25; // Reduced segments for performance
                    for (let i=1; i<=segments; i++) { 
                        const pt = getPointOnWave({x:x1,y:y1}, {x:x2,y:y2}, i/segments, state.time); 
                        d += ` L ${pt.x} ${pt.y}`; 
                    }
                    conn.pathEl.setAttribute('d', d);
                }
            });
        }

        function updatePackets() {
            for (let i = state.packets.length - 1; i >= 0; i--) {
                const pkt = state.packets[i]; pkt.t += 0.01;
                const conn = state.connections[pkt.connectionIndex];
                if (pkt.t >= 1) {
                    if (conn && conn.endId) spawnPacketsFromNode(conn.endId);
                    pkt.el.remove(); pkt.els.r.remove(); pkt.els.g.remove(); pkt.els.b.remove();
                    state.packets.splice(i, 1); continue;
                }
                const n1 = state.nodes.find(n => n.id === conn.startId), n2 = state.nodes.find(n => n.id === conn.endId);
                if (n1 && n2) {
                    const p1 = { x: n1.currentX + n1.width/2, y: n1.currentY + n1.height/2 };
                    const p2 = { x: n2.currentX + n2.width/2, y: n2.currentY + n2.height/2 };
                    const pt = getPointOnWave(p1, p2, pkt.t, state.time);
                    let glitch = conn.glitches.find(g => pkt.t >= g.pos - g.width/2 && pkt.t <= g.pos + g.width/2);
                    
                    if (glitch) {
                        const noise = glitch.intensity;
                        const rand = () => (Math.random()-0.5)*noise;
                        const setPos = (el, x, y) => { el.setAttribute('cx', x); el.setAttribute('cy', y); el.style.opacity = 0.8; };
                        setPos(pkt.els.r, pt.x+rand(), pt.y+rand()); setPos(pkt.els.g, pt.x+rand(), pt.y+rand()); setPos(pkt.els.b, pt.x+rand(), pt.y+rand());
                        pkt.el.style.opacity = 0.5; pkt.el.setAttribute('cx', pt.x); pkt.el.setAttribute('cy', pt.y);
                    } else {
                        pkt.el.setAttribute('cx', pt.x); pkt.el.setAttribute('cy', pt.y); pkt.el.style.opacity = 1;
                        pkt.els.r.style.opacity = 0; pkt.els.g.style.opacity = 0; pkt.els.b.style.opacity = 0;
                    }
                }
            }
        }

        function gameLoop(t) {
            const dt = t - state.time; state.time = t;
            
            // Physics
            if (!state.camera.isDragging) {
                state.camera.vx *= 0.92; state.camera.vy *= 0.92;
                if (Math.abs(state.camera.vx) < 0.1) state.camera.vx = 0;
                if (Math.abs(state.camera.vy) < 0.1) state.camera.vy = 0;
                state.camera.x += state.camera.vx; state.camera.y += state.camera.vy;
            }
            document.getElementById('canvas-ui').style.transform = `translate(${state.camera.x}px, ${state.camera.y}px)`;

            // Nodes
            const cx = window.innerWidth/2, cy = window.innerHeight/2; const maxD = Math.max(window.innerWidth, window.innerHeight)/1.5;
            state.nodes.forEach(n => {
                n.currentX = n.baseX + Math.sin(t*0.001*n.speed*1000 + n.phase)*n.amplitude;
                n.currentY = n.baseY + Math.cos(t*0.001*n.speed*1000 + n.phase)*n.amplitude;
                const sx = n.currentX + state.camera.x + n.width/2, sy = n.currentY + state.camera.y + n.height/2;
                const dist = Math.sqrt((sx-cx)**2 + (sy-cy)**2);
                let scale = Math.max(0.6, 1 - (dist/maxD)) * 1.5;
                n.el.style.transform = `translate3d(${n.currentX - n.baseX}px, ${n.currentY - n.baseY}px, 0) scale(${scale})`;
            });

            // Update glitches less frequently to save perf
            if (Math.floor(t) % 2 === 0) updateGlitches(t);
            
            renderLines();
            if (t - state.lastPacketSpawn > 2000) { spawnPacketsFromNode('node-core'); state.lastPacketSpawn = t; }
            updatePackets();
            requestAnimationFrame(gameLoop);
        }

        // INPUTS
        const container = document.getElementById('world-container');
        function resetCamera() { state.camera.x = window.innerWidth/2 - CENTER_X; state.camera.y = window.innerHeight/2 - CENTER_Y; state.camera.vx=0; state.camera.vy=0; }
        
        container.addEventListener('mousedown', e => { if(e.target.closest('.info-panel')) return; state.camera.isDragging=true; state.camera.lastMouseX=e.clientX; state.camera.lastMouseY=e.clientY; container.style.cursor='grabbing'; });
        window.addEventListener('mouseup', () => { state.camera.isDragging=false; container.style.cursor='grab'; });
        window.addEventListener('mousemove', e => { if(!state.camera.isDragging) return; e.preventDefault(); const dx=e.clientX-state.camera.lastMouseX, dy=e.clientY-state.camera.lastMouseY; state.camera.x+=dx; state.camera.y+=dy; state.camera.vx=dx; state.camera.vy=dy; state.camera.lastMouseX=e.clientX; state.camera.lastMouseY=e.clientY; });
        container.addEventListener('touchstart', e => { if(e.target.closest('.info-panel')) return; state.camera.isDragging=true; state.camera.lastMouseX=e.touches[0].clientX; state.camera.lastMouseY=e.touches[0].clientY; });
        window.addEventListener('touchend', () => state.camera.isDragging=false);
        window.addEventListener('touchmove', e => { if(!state.camera.isDragging) return; const dx=e.touches[0].clientX-state.camera.lastMouseX, dy=e.touches[0].clientY-state.camera.lastMouseY; state.camera.x+=dx; state.camera.y+=dy; state.camera.vx=dx; state.camera.vy=dy; state.camera.lastMouseX=e.touches[0].clientX; state.camera.lastMouseY=e.touches[0].clientY; });

        document.querySelectorAll('.node:not(.locked)').forEach(n => n.addEventListener('click', e => { 
            // Fix click conflict
            if(Math.abs(state.camera.vx)>2 || Math.abs(state.camera.vy)>2) return; 
            document.querySelectorAll('.node').forEach(o => o !== n && o.classList.remove('active')); 
            n.classList.toggle('active'); 
            e.stopPropagation(); 
        }));
        container.addEventListener('click', e => { if(!e.target.closest('.node')) document.querySelectorAll('.node').forEach(n => n.classList.remove('active')); });

        const loader = document.getElementById('loader'), loadCircle = document.getElementById('loading-circle'), loadText = document.getElementById('loading-text');
        const circ = 2 * Math.PI * 100; let prog = 0;
        const loadInt = setInterval(() => {
            prog += Math.random() * 1.5;
            if (prog >= 100) { prog = 100; clearInterval(loadInt); initMap(); setTimeout(() => { loader.style.opacity = '0'; setTimeout(() => { loader.remove(); document.getElementById('world-container').style.opacity = '1'; resetCamera(); }, 800); }, 500); }
            loadCircle.style.strokeDashoffset = circ - (prog/100)*circ; loadText.innerText = Math.floor(prog) + '%';
        }, 50);

        function toggleMusic() { alert("Audio System Initialized"); }
    </script>
</body>
</html>
